<!doctype html>
<html lang="en">
  <head>
    <!--metadati-->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!--generali-->
    <title>ZERO HOUR DAY | Powered by SYNCHRO®</title>

    <!--fogli di stile-->

    <link rel="stylesheet" href="../style/variables.css" />
    <link rel="stylesheet" href="../style/zero-hour-day.css" />
    <link rel="stylesheet" href="../style/var-resp.css" />
    <link rel="stylesheet" href="../style/zhd-resp.css" />

    <!--tipografia-->
    <link rel="stylesheet" href="https://use.typekit.net/onf3tub.css" />
  </head>
  <body>
    <!--
    HEADER
    -->
    <header>
      <div class="header-wrap">
        <div class="link-header">
          <button
            id="logo"
            class="button-text"
            onclick="location.href = '../index.html'"
          >
            <img src="../public/recurrent/logo.svg" alt="logo" />
          </button>
        </div>

        <div class="link-header title-card">
          <button
            class="button-text light"
            onclick="location.href = '../pages/about.html'"
          >
            about
          </button>

          <button
            class="button-text light"
            onclick="location.href = '../pages/form.html'"
          >
            contact us
          </button>
          <button
            class="button-text light"
            id="zhd-btn"
            onclick="location.href = 'https://www.zerohourday.org'"
          >
            zero hour day
          </button>
        </div>
      </div>
    </header>
    <!--
    MAIN
    -->
    <main>
      <section class="section-definied" id="title-card">
        <div class="wrap-col-space">
          <div class="img-wrap">
            <img
              src="../public/SVG/complete-final.svg"
              alt="united nation collaboration logo"
            />
          </div>
          <div class="title">
            one world. <br />
            one time.
          </div>
        </div>
      </section>
      <!---->
      <div class="section-empty firstone"></div>
      <div class="section-empty firstone"></div>
      <!---->
      <section class="section-definied" id="intro">
        <div class="wrap-col-end">
          <div class="wrap-row-space">
            <div class="img-wrap">
              <img
                src="../public/recurrent/logo-zhd-white.svg"
                alt="logo zero hour day"
              />
            </div>
            <div class="body-text wrap-col-end">
              Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent
              vel urna erat. Curabitur quis accumsan eros, id blandit nisl.
              Aliquam erat volutpat. Duis eros lacus, malesuada cursus dolor
              sed, imperdiet cursus lacus. Fusce eu eleifend libero. Donec in
              mauris sit amet enim posuere vehicula. Maecenas metus turpis,
              lobortis et cursus.
            </div>
          </div>
        </div>
      </section>
      <!---->
      <div class="section-empty"></div>
      <div class="section-empty lastone"></div>
      <!---->
      <section class="section-flex" id="chrono">
        <div class="wrap-row-space">
          <div class="body-text">
            With CHRONODEX, everyone measures the way they generally spend their
            time, how they choose to organize it and integrate it with the
            rythms of society.
            <br />
            <br />The definition of a new and unified timezone aims to find the
            measure that proves itself best for everyone. The more a nation is
            aligned, the more it shows that their way of handling the 24 hours
            in a day is more proficient, and that their model should be applied
            globally, to achieve the same results everywhere.
            <br />
            <br />We take this measure every year, to better cater to the needs
            of an ever-chaning society. Even a perfect measure today, might not
            me adequate tomorrow.
          </div>
          <div class="img-wrap dark-bg" id="chrono-img"></div>
        </div>
      </section>
      <div class="section-empty firstone"></div>
      <!---->
      <!---->
      <section class="section-flex" id="use">
        <div class="wrap-col-start">
          <div class="synchro-type">how to use chronodex</div>
          <div class="section-empty"></div>
          <div class="body-text">
            CHRONODEX makes the voting process extremely intuitive, to avoid
            waisting time at the polls. the clock-like shape of the machine
            helps with a better understading of its workings. here we have the
            instructions on how to use the machine.
            <p>
              Every voting booth is equiped with a recap of of CHRONODEX works,
              and trained staff will be right there to help you, to ensure a
              smooth and fast voting experience.
            </p>
          </div>
          <div class="section-empty"></div>
          <div class="wrap-grid">
            <div class="card">
              <div class="img-wrap"></div>
              <div class="wrap-text">
                <div class="subtitle-caps">enter hours</div>
                <div class="body-text">
                  press the chosen activity button, then turn the knob to add as
                  many hours as needed. <br />Repeat the process for all other
                  activities
                </div>
              </div>
            </div>
            <div class="card">
              <div class="img-wrap"></div>
              <div class="wrap-text">
                <div class="subtitle-caps">delete hours</div>
                <div class="body-text">
                  turn the knob backward to delete hours.
                </div>
              </div>
            </div>
            <div class="card">
              <div class="img-wrap"></div>
              <div class="wrap-text">
                <div class="subtitle-caps">submit</div>
                <div class="body-text">
                  press the central button to save the hours of your routine.
                </div>
              </div>
            </div>
            <div class="card">
              <div class="img-wrap"></div>
              <div class="wrap-text">
                <div class="subtitle-caps">view data</div>
                <div class="body-text">
                  scan te QR code on the machine to view your score.
                  <br />zerohourday.org
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
      <!---->

      <section class="section-defined video" id="video-section">
        <video
          class="bg-video"
          src="../public/video/video-chronodex.mp4"
          poster="../public/zhd/poster.png"
          muted
          playsinline
          preload="metadata"
        ></video>
      </section>

      <!---->
      <!---->

      <section class="section-flex" id="explained">
        <div class="wrap-row-start">
          <div class="wrap-col-end">
            <div class="synchro-type">why alignment</div>
            <div class="body-text">
              With CHRONODEX, everyone measures the way they generally spend
              their time, how they choose to organize it and integrate it with
              the rythms of society.
              <br />
              <br />The definition of a new and unified timezone aims to find
              the measure that proves itself best for everyone. The more a
              nation is aligned, the more it shows that their way of handling
              the 24 hours in a day is more proficient, and that their model
              should be applied globally, to achieve the same results
              everywhere.
              <br />
              <br />We take this measure every year, to better cater to the
              needs of an ever-chaning society. Even a perfect measure today,
              might not me adequate tomorrow.
            </div>
          </div>
        </div>
      </section>
      <!---->
      <div class="section-empty firstone"></div>
      <!---->
      <section class="section-flex col-center " id="webapp">
        <div class="wrap-row-space ">
          <div class="wrap-col-end ">
            <div class="synchro-type ">keep track of voting</div>
            <div class="body-text ">
              <p>
                On February 3rd, voters of age will be required to go the polls
                to contibite to the global rank. While waiting and after voting,
                evceryone will be able to keep track of the results thorugh the
                ZERO HOUR DAY webapp
              </p>
              <p>
                Once you deliver your vote, you'll be assigned a unique ID and
                you'll be able to acces your personal page, to see how your
                contribution is impacting the rank.
              </p>
              <p>
                You can access the webapp even if you haven't voted yet: you'll
                still be able to see the general trend of voting and find
                polling stations near you.
              </p>
            </div>
            <div class="section-empty lastone"></div>
            <div class="wrap-row-start" style="gap: 1rem">
              <button
                class="button-text dark"
                onclick="window.open('https://www.zerohourday.org', '_blank')"
              >
                go to webapp
              </button>
              <button class="button-secondary button-text light">
                find polls near you
              </button>
            </div>
          </div>
        </div>
      </section>

      <!---->
      <div class="section-empty firstone"></div>
      <div class="section-empty firstone"></div>
    </main>
    <!--
    FOOTER
    -->
    <footer>
      <div class="wrap">
        <div class="left">
          copyright © 2026 SYNCHRO
          <div style="font-size: 0.8rem; font-weight: 100">
            All rights reserved
          </div>
          <div style="font-size: 0.8rem; font-weight: 100">
            <span class="footer-link"
              ><a href="../pages/privacy.html">Data Privacy</a></span
            ><span>&ensp;|&ensp;</span
            ><span class="footer-link"
              ><a href="../pages/terms.html">Terms and Conditions</a></span
            >
            <span>&ensp;|&ensp;</span
            ><span class="footer-link"
              ><a href="../pages/form.html">Techincal Support</a></span
            >
          </div>
        </div>
        <div class="right">
          GENEVA, CH <br />
          info@synchro.com <br />
          @zerohourday
        </div>
      </div>
    </footer>

    <!--SCRIPTS-->

    <!--gestione video-->
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const video = document.querySelector("section.video .bg-video");
    if (!video) return;

    // -----------------------------
    // CSS (iniettato via script)
    // -----------------------------
    const style = document.createElement("style");
    style.textContent = `
      /* wrapper creato via JS */
      .video-preview-wrap {
        position: relative;
        width: 100%;
        height: 100%;
      }

      /* overlay poster + play */
      .video-preview-overlay {
        position: absolute;
        inset: 0;
        z-index: 3;
        display: none; /* gestito via JS */
        align-items: center;
        justify-content: center;
        cursor: pointer;
        user-select: none;
        -webkit-tap-highlight-color: transparent;
      }

      /* poster come sfondo (sempre visibile quando overlay attivo) */
      .video-preview-overlay::before {
        content: "";
        position: absolute;
        inset: 0;
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        transform: translateZ(0);
      }

      /* leggero velo per leggibilità bottone */
      .video-preview-overlay::after {
        content: "";
        position: absolute;
        inset: 0;
        background: rgba(0,0,0,0.18);
      }

      /* bottone play minimal */
      .video-preview-play {
        position: relative;
        z-index: 4;
        width: 72px;
        height: 72px;
        border-radius: 999px;
        border: 1px solid rgba(255,255,255,0.65);
        background: rgba(0,0,0,0.35);
        display: inline-flex;
        align-items: center;
        justify-content: center;
        backdrop-filter: blur(6px);
        -webkit-backdrop-filter: blur(6px);
        transition: transform 180ms ease, background 180ms ease, border-color 180ms ease;
      }

      .video-preview-overlay:hover .video-preview-play {
        transform: scale(1.05);
        background: rgba(0,0,0,0.45);
        border-color: rgba(255,255,255,0.85);
      }

      /* triangolo play */
      .video-preview-play::before {
        content: "";
        width: 0;
        height: 0;
        border-left: 18px solid rgba(255,255,255,0.9);
        border-top: 12px solid transparent;
        border-bottom: 12px solid transparent;
        margin-left: 4px;
      }

      /* per accessibilità: focus visibile */
      .video-preview-play:focus-visible {
        outline: 2px solid rgba(255,255,255,0.9);
        outline-offset: 3px;
      }

      /* se l'utente preferisce meno animazioni */
      @media (prefers-reduced-motion: reduce) {
        .video-preview-play { transition: none; }
        .video-preview-overlay:hover .video-preview-play { transform: none; }
      }
    `;
    document.head.appendChild(style);

    // -----------------------------
    // DOM: wrapper + overlay
    // -----------------------------
    const wrap = document.createElement("div");
    wrap.className = "video-preview-wrap";

    // Inserisce wrap prima del video e poi sposta video dentro wrap
    const parent = video.parentElement;
    parent.insertBefore(wrap, video);
    wrap.appendChild(video);

    const overlay = document.createElement("div");
    overlay.className = "video-preview-overlay";
    overlay.setAttribute("role", "button");
    overlay.setAttribute("tabindex", "0");
    overlay.setAttribute("aria-label", "Play video");

    const playBtn = document.createElement("div");
    playBtn.className = "video-preview-play";
    playBtn.setAttribute("aria-hidden", "true");

    overlay.appendChild(playBtn);
    wrap.appendChild(overlay);

    // Imposta il poster sull'overlay (così si vede SEMPRE anche se il video è a metà)
    const posterUrl = video.getAttribute("poster");
    if (posterUrl) {
      overlay.style.setProperty("--poster-url", `url("${posterUrl}")`);
      // Applichiamo lo sfondo al ::before via style inline (facile e robusto)
      // Nota: non possiamo settare direttamente ::before, quindi settiamo background sul nodo
      // e lo usiamo su ::before leggendo computed? più semplice: settiamo background sul nodo e lo copiamo su ::before con CSS? non possibile.
      // Soluzione pratica: settiamo background sul nodo e lo replichiamo su ::before via CSS usando inherit.
      // Aggiorniamo CSS per usare inherit:
      const patch = document.createElement("style");
      patch.textContent = `
        .video-preview-overlay { background-image: var(--poster-url); }
        .video-preview-overlay::before { background-image: inherit; }
      `;
      document.head.appendChild(patch);
    }

    // -----------------------------
    // Helpers stato
    // -----------------------------
    const isFullscreen = () =>
      document.fullscreenElement === video ||
      document.fullscreenElement === wrap ||
      document.fullscreenElement === parent ||
      document.webkitFullscreenElement === video; // Safari

    const showControls = () => {
      if (!video.hasAttribute("controls")) video.setAttribute("controls", "");
    };

    const hideControls = () => {
      if (video.hasAttribute("controls")) video.removeAttribute("controls");
    };

    const showOverlay = () => {
      overlay.style.display = "flex";
    };

    const hideOverlay = () => {
      overlay.style.display = "none";
    };

    const syncUI = () => {
      const fs = isFullscreen();
      const pausedOrEnded = video.paused || video.ended;

      // Overlay SOLO quando NON fullscreen e NON in riproduzione
      if (!fs && pausedOrEnded) showOverlay();
      else hideOverlay();

      // Controlli:
      // - In fullscreen: sempre visibili
      // - Fuori fullscreen: visibili solo in hover quando in riproduzione
      if (fs) {
        showControls();
      } else {
        if (!pausedOrEnded) {
          // playing inline: hover-based
          hideControls();
        } else {
          // paused inline: niente controlli, solo overlay
          hideControls();
        }
      }
    };

    // -----------------------------
    // Azioni
    // -----------------------------
    const tryPlay = async () => {
      try {
        await video.play();
      } catch (err) {
        // autoplay/gesture restrictions: niente panico, rimane overlay
        console.warn("Play failed:", err);
      }
    };

    const requestFs = async () => {
      try {
        if (video.requestFullscreen) await video.requestFullscreen();
        else if (wrap.requestFullscreen) await wrap.requestFullscreen();
        else if (video.webkitRequestFullscreen) video.webkitRequestFullscreen(); // Safari
      } catch (err) {
        console.warn("Fullscreen failed:", err);
      }
    };

    // -----------------------------
    // Eventi UI
    // -----------------------------
    // Hover: controlli solo quando playing e non fullscreen
    video.addEventListener("mouseenter", () => {
      if (!isFullscreen() && !video.paused && !video.ended) showControls();
    });
    video.addEventListener("mouseleave", () => {
      if (!isFullscreen() && !video.paused && !video.ended) hideControls();
    });

    // Click sull'overlay: play
    overlay.addEventListener("click", (e) => {
      e.preventDefault();
      tryPlay();
    });
    overlay.addEventListener("keydown", (e) => {
      if (e.key === "Enter" || e.key === " ") {
        e.preventDefault();
        tryPlay();
      }
    });

    // Click sul video quando è fermo: play (comodo su mobile)
    video.addEventListener("click", () => {
      if (!isFullscreen() && (video.paused || video.ended)) tryPlay();
    });

    // Double click → fullscreen (come prima)
    video.addEventListener("dblclick", async (e) => {
      e.preventDefault();
      await requestFs();
    });

    // Stato video
    video.addEventListener("play", syncUI);
    video.addEventListener("pause", syncUI);
    video.addEventListener("ended", syncUI);

    // Fullscreen changes (standard + Safari)
    document.addEventListener("fullscreenchange", syncUI);
    document.addEventListener("webkitfullscreenchange", syncUI);

    // Stato iniziale
    hideControls();
    syncUI();
  });
</script>
  </body>
</html>
